<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>文章列表--layui后台管理模板 2.0</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="../../layui/css/layui.css" media="all" />
<link rel="stylesheet" href="../../css/public.css" media="all" />
<script type="text/javascript" src="../../js/jquery.min.js"></script>
<style type="text/css">
	#detailImgs img{
		width:200px;height: 200px;
		border:1px solid #eeeeee;
		margin-right: 10px;
		margin-top: 5px;
		margin-bottom: 5px;
	}
</style>
</head>
<body class="childrenBody">
	<form class="layui-form" style="width: 80%;">
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">商品名称</label>
			<div class="layui-input-block">
				<input type="text" class="layui-input proName" lay-verify="required" id="name" readonly="readonly"
					placeholder="请输入商品名称">
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">价格</label>
			<div class="layui-input-block">
				<input type="text" class="layui-input proName" lay-verify="required" id="price" readonly="readonly"
					placeholder="请输入价格">
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">市场价格</label>
			<div class="layui-input-block">
				<input type="text" class="layui-input proName" lay-verify="required" id="market_price" readonly="readonly"
					placeholder="请输入市场价格">
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">成本价格</label>
			<div class="layui-input-block">
				<input type="text" class="layui-input proName" lay-verify="required" id="cost_price" readonly="readonly"
					placeholder="请输入成本价格">
			</div>
		</div>
		<div class="layui-row">
			<div class="magb15 layui-col-md4 layui-col-xs12">
				<label class="layui-form-label">状态</label>
				<div class="layui-input-block">
					<input type="text" class="layui-input proName" lay-verify="required" id="status" readonly="readonly"
					placeholder="请输入状态">
					<!-- <select name="proGrade" class="proGrade" lay-filter="proGrade" id="status">
						<option value="上架">上架</option>
						<option value="下架">下架</option>
					</select> -->
				</div>
			</div>
			<div class="magb15 layui-col-md4 layui-col-xs12">
				<label class="layui-form-label">选购热点</label>
				<div class="layui-input-block">
					<input type="text" class="layui-input proName" lay-verify="required" id="hotSpots" readonly="readonly"
						placeholder="请输入选购热点">
					<!-- <select name="proGrade" class="proGrade" lay-filter="proGrade" id="hotSpots">
						<option value="家用" >家用</option>
						<option value="商用">商用</option>
						<option value="送朋友">送朋友</option>
						<option value="送家人">送家人</option>
						<option value="其它">其它</option>
					</select> -->
				</div>
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">创建时间</label>
			<div class="layui-input-block">
				<input type="text" class="layui-input proName" lay-verify="required" id="createTime" readonly="readonly"
					placeholder="请输入成本价格">
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">品牌</label>
			<div class="layui-input-block">
				<input type="text" class="layui-input proName" lay-verify="required" id="brand" readonly="readonly"
					placeholder="请输入品牌">
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">商品封面图</label>
			<div class="layui-input-block">
				<!-- <input type="text" class="layui-input proName" lay-verify="required"
					placeholder="请输入品牌"> -->
					<img alt="暂无图片" src="" id="titleImg" style="width:200px;height: 200px;border:1px solid #eeeeee;"/>
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">商品详情图</label>
			<div class="layui-input-block" id="detailImgs">
				<!-- <input type="text" class="layui-input proName" lay-verify="required"
					placeholder="请输入品牌"> -->
				<!-- <img alt="暂无图片" src=""/> -->
			</div>
		</div>
		<div class="layui-form-item layui-row layui-col-xs12">
			<label class="layui-form-label">商品描述</label>
			<div class="layui-input-block">
				<input type="text" class="layui-input proName" lay-verify="required" id="content" readonly="readonly"
					placeholder="请输入商品描述">
			</div>
		</div>
		<!-- <div class="layui-form-item layui-row layui-col-xs12">
			<div class="layui-input-block">
				<button class="layui-btn layui-btn-sm" lay-submit=""
					lay-filter="addpro">立即添加</button>
				<button type="reset"
					class="layui-btn layui-btn-sm layui-btn-primary">取消</button>
			</div>
		</div> -->
	</form>
	<script type="text/javascript" src="../../layui/layui.js"></script>
	<script type="text/javascript" src="proLook.js"></script>
	<script>
$(function(){
	//console.log("JSON.stringify(data):"+GetQueryStrings("data"));
		$.ajax({
			url : "/HouseElectricShopManage/product/findById.action",
			data : {
				"id":GetQueryStrings("data")
			},
			type : "get",
			success : function(data) {
				console.log("proLook.html:"+JSON.stringify(data));
				$("#name").val(data.name);
				$("#price").val("￥" + data.price);
				$("#market_price").val("￥" + data.market_price);
				$("#cost_price").val("￥" + data.cost_price);
				$("#status").val(data.status);
				//$("#status").val(data.status);
				//$("#status").find("option[text='+data.status+']").attr("selected",true);
				
				$("#createTime").val(data.createTime);
				$("#brand").val(data.brand);
				
				$("#hotSpots").val(data.hotSpots);
				//$("#hotSpots").find("option[text='+data.hotSpots+']").attr("selected",true);
				
				$("#content").val(data.content);
				
				var imgs = data.productPhotosList;
				var notDataImg = 1;
				for(var i=0;i<imgs.length;i++){
					if(imgs[i].imgType == "1"){
						$("#titleImg").attr("src","http://localhost:8080/HouseElectricShopManage/productImgs/"+imgs[i].imageUrl);
					}else{
						notDataImg = 0;
						var detailImgSrc = "http://localhost:8080/HouseElectricShopManage/productImgs/" + imgs[i].imageUrl;
						var _img = "<img alt='暂无图片' src="+detailImgSrc+">";
						$("#detailImgs").append(_img);
					}
				}
				if(notDataImg == 1){
					var p = "<input value='暂无数据,请到编辑页面进行添加详情图,若不会操作,请联系管理员。' type='text' class='layui-input proName' lay-verify='required' readonly='readonly'>";
					$("#detailImgs").append(p);
				}
			},
			error : function(data) {
				alert("数据获取失败"+JSON.stringify(data));
			}

		});
});
function GetQueryStrings(name) {
    var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
    var r = window.location.search.substr(1).match(reg);
    if(r!=null)return  unescape(r[2]); return null;
}
</script>
</body>
</html>